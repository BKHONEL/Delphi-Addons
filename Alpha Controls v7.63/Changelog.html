<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="Changelog.css">
<title>Text Compare</title>
</head>
<body>
File: sPageControl.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1913</td>
<td class="TextItemNum AlignRight">1913</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GlyphRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GlyphRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Images</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1914</td>
<td class="TextItemNum AlignRight">1914</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TextRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GlyphRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Spacing</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Change text rect</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1915</td>
<td class="TextItemNum AlignRight">1915</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GlyphRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">tsTabs</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1916</td>
<td class="TextItemNum AlignRight">1916</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1917</td>
<td class="TextItemNum AlignRight">1917</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1918</td>
<td class="TextItemNum AlignRight">1918</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GlyphRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1919</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if (Data.BtnRect.Left &lt;&gt; Data.BtnRect.Right) or (Data.ArrowRect.Left &lt;&gt; Data.ArrowRect.Right) <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ShowCloseBtns</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TsTabSheet</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Page</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">TabType</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">ttTab</span><span class="TextSegSigDiff">))</span> then begin // If button or arrow exists</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1919</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if (Data.BtnRect.Left &lt;&gt; Data.BtnRect.Right) or (Data.ArrowRect.Left &lt;&gt; Data.ArrowRect.Right) then begin // If button or arrow exists</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1920</td>
<td class="TextItemNum AlignRight">1920</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TextRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TabRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">4</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1921</td>
<td class="TextItemNum AlignRight">1921</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1922</td>
<td class="TextItemNum AlignRight">1922</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1923</td>
<td class="TextItemNum AlignRight">1923</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TextRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TabRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TabRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">Data</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TextSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cx</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1924</td>
<td class="TextItemNum AlignRight">1924</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1925</td>
<td class="TextItemNum AlignRight">1925</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acPNG.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5247</td>
<td class="TextItemNum AlignRight">5248</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CopyChannel</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Mask</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5248</td>
<td class="TextItemNum AlignRight">5249</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">pfDevice</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5249</td>
<td class="TextItemNum AlignRight">5250</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SrcBmp8</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5250</td>
<td class="TextItemNum AlignRight">5251</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">pfDevice</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5251</td>
<td class="TextItemNum AlignRight">5252</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5252</td>
<td class="TextItemNum AlignRight">5253</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">5253</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; SetStretchBltMode(SrcBmp8.Canvas.Handle, <span class="TextSegSigDiff">COLOR</span>ON<span class="TextSegSigDiff">COLOR</span>);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5254</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; SetStretchBltMode(SrcBmp8.Canvas.Handle, <span class="TextSegSigDiff">HALFT</span>ON<span class="TextSegSigDiff">E</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5254</td>
<td class="TextItemNum AlignRight">5255</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StretchBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5255</td>
<td class="TextItemNum AlignRight">5256</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">pf8bit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5256</td>
<td class="TextItemNum AlignRight">5257</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CopyChannel</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SrcBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5257</td>
<td class="TextItemNum AlignRight">5258</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Mask</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5258</td>
<td class="TextItemNum AlignRight">5259</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SrcBmp8</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5259</td>
<td class="TextItemNum AlignRight">5260</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CopyBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DstBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SrcBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">EmptyCI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">clNone</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSpeedButton.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF NOTFORHELP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Align</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">OnPaint</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBmpPaintEvent</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FOnPaint</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FOnPaint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementComment">// NOTFORHELP</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">OnMouseEnter</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TNotifyEvent</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FOnMouseEnter</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">OnMouseLeave</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TNotifyEvent</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FOnMouseLeave</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FOnMouseLeave</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">OnDragDrop</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">OnDragOver</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">AnimatEvents</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacAnimatEvents</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FAnimatEvents</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FAnimatEvents</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">aeGlobalDef</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Alignment</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TAlignment</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FAlignment</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetAlignment</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">taCenter</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Blend</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FBlend</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetBlend</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemNum AlignRight">113</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ButtonStyle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TToolButtonStyle</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FButtonStyle</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetButtonStyle</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">tbsButton</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemNum AlignRight">114</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCtrlSkinData</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FCommonData</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">DisabledGlyphKind</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsDisabledGlyphKind</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FDisabledGlyphKind</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetDisabledGlyphKind</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">DefDisabledGlyphKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">DisabledKind</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsDisabledKind</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FDisabledKind</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetDisabledKind</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">DefDisabledKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">DragKind</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">DragCursor</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">DragMode</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">DropdownMenu</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPopupMenu</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FDropdownMenu</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetDropdownMenu</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Grayed</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FGrayed</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetGrayed</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FImageIndex</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetImageIndex</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Images</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomImageList</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FImages</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetImages</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">Reflected</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FReflected</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetReflected</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ShowCaption</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FShowCaption</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetShowCaption</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sCommonData.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsBoundLabel }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsBoundLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AlignLabel</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; FTheLabel.<span class="TextSegSigDiff">Constraint</span>s<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">MaxWidth</span> := <span class="TextSegSigDiff">FMaxWidth</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemSigDel">&nbsp; &nbsp; FTheLabel.<span class="TextSegSigDiff">Au</span><span class="TextSegSigDiff">to</span>S<span class="TextSegSigDiff">ize</span> := <span class="TextSegSigDiff">True</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">Layout</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sclLeft</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">4</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">Indent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sclTopLeft</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FocusControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Indent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FMaxWidth</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FTheLabel.<span class="TextSegSigDiff">WordWrap</span> := FTheLabel.<span class="TextSegSigDiff">W</span><span class="TextSegSigDiff">id</span><span class="TextSegSigDiff">th</span> <span class="TextSegSigDiff">&gt;=</span> FTheLabel.<span class="TextSegSigDiff">C</span>on<span class="TextSegSigDiff">s</span>tr<span class="TextSegSigDiff">aints</span>.<span class="TextSegSigDiff">MaxWid</span><span class="TextSegSigDiff">th</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">4</span>;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FTheLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AutoSize</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FTheLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FMaxWidth</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FTheLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WordWrap</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; FTheLabel.<span class="TextSegSigDiff">Height</span> := <span class="TextSegSigDiff">Max</span><span class="TextSegSigDiff">(</span>FTheLabel.<span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">,</span> FTheLabel.<span class="TextSegSigDiff">FocusC</span>ontr<span class="TextSegSigDiff">ol</span>.<span class="TextSegSigDiff">He</span><span class="TextSegSigDiff">ight</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TsBoundLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TObject</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">CommonData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1412</td>
<td class="TextItemNum AlignRight">1415</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateAlignment</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1413</td>
<td class="TextItemNum AlignRight">1416</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementString">'Label'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1414</td>
<td class="TextItemNum AlignRight">1417</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FText</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">''</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FText</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1415</td>
<td class="TextItemNum AlignRight">1418</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FText</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1416</td>
<td class="TextItemNum AlignRight">1419</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1417</td>
<td class="TextItemNum AlignRight">1420</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1418</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FTheLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AutoSize</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1419</td>
<td class="TextItemNum AlignRight">1421</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AlignLabel</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1420</td>
<td class="TextItemNum AlignRight">1422</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1421</td>
<td class="TextItemNum AlignRight">1423</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1422</td>
<td class="TextItemNum AlignRight">1424</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FTheLabel</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1423</td>
<td class="TextItemNum AlignRight">1425</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FActive</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1424</td>
<td class="TextItemNum AlignRight">1426</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acShellCtrls.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1632</td>
<td class="TextItemNum AlignRight">1632</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1633</td>
<td class="TextItemNum AlignRight">1633</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FComboBox</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1634</td>
<td class="TextItemNum AlignRight">1634</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FListView</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1635</td>
<td class="TextItemNum AlignRight">1635</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FImageListChanging</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1636</td>
<td class="TextItemNum AlignRight">1636</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FUseShellImages</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1637</td>
<td class="TextItemNum AlignRight">1637</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FShowExtension</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">seSystem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1638</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">FNotifier</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1639</td>
<td class="TextItemNum AlignRight">1638</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; Images := SysSmallImageList;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1640</td>
<td class="TextItemNum AlignRight">1639</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; FImage := SHGetFileInfo('C:\', { Do not localize } 0, FileInfo, SizeOf(FileInfo), SHGFI_SYSICONINDEX or SHGFI_SMALLICON);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1641</td>
<td class="TextItemNum AlignRight">1640</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1642</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; FNotifier := TacShellChangeNotifier.Create(Self);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1641</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">FNotifier</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacShellChangeNotifier</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1643</td>
<td class="TextItemNum AlignRight">1642</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI6UP}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1644</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; FNotifier.FComponentStyle := FNotifier.FComponentStyle + [ csSubComponent ];</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1643</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">FNotifier</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FComponentStyle</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FNotifier</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FComponentStyle</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">[</span> <span class="TextSegSigDiff">csSubComponent</span> <span class="TextSegSigDiff">];</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1645</td>
<td class="TextItemNum AlignRight">1644</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1646</td>
<td class="TextItemNum AlignRight">1645</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FRoot</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SRFDesktop</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1647</td>
<td class="TextItemNum AlignRight">1646</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FLoadingRoot</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1648</td>
<td class="TextItemNum AlignRight">1647</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1649</td>
<td class="TextItemNum AlignRight">1648</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1650</td>
<td class="TextItemNum AlignRight">1649</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacCustomShellTreeView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ClearItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FUpdating</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">TacCustomShellTreeView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2363</td>
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2364</td>
<td class="TextItemNum AlignRight">2363</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FRootFolder</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FRootFolder</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2365</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FNotifier</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FNotifier</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2366</td>
<td class="TextItemNum AlignRight">2364</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2367</td>
<td class="TextItemNum AlignRight">2365</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2368</td>
<td class="TextItemNum AlignRight">2366</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2369</td>
<td class="TextItemNum AlignRight">2367</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TacCustomShellComboBox }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2370</td>
<td class="TextItemNum AlignRight">2368</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2371</td>
<td class="TextItemNum AlignRight">2369</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TacCustomShellComboBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2897</td>
<td class="TextItemNum AlignRight">2895</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TacCustomShellListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2898</td>
<td class="TextItemNum AlignRight">2896</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2899</td>
<td class="TextItemNum AlignRight">2897</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TSHFileInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2900</td>
<td class="TextItemNum AlignRight">2898</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2901</td>
<td class="TextItemNum AlignRight">2899</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2902</td>
<td class="TextItemNum AlignRight">2900</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FRootFolder</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2903</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">NewStyleItems</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2904</td>
<td class="TextItemNum AlignRight">2901</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">OwnerData</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2905</td>
<td class="TextItemNum AlignRight">2902</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FSorted</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2906</td>
<td class="TextItemNum AlignRight">2903</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FObjectTypes</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">otFolders</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">otNonFolders</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2907</td>
<td class="TextItemNum AlignRight">2904</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FAutoContext</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2908</td>
<td class="TextItemNum AlignRight">2905</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FAutoNavigate</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2909</td>
<td class="TextItemNum AlignRight">2906</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FAutoRefresh</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sListView.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetHeaderColumnRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">ColumnSkinPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ControlRect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">cIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">PaintHeader</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">protected</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">NewStyleItems</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">HotItem</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ListSW</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacScrollWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Varibles initialized after skin changing</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GridColor</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">iSelectIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">StyleChanging</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">COC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">COC_TsListView</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FBoundLabel</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsBoundLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ListLineHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Size</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FHighlightHeaders</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">NewStyleItems</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">StyleChanging</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOldAdvancedCustomDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOldAdvancedCustomDrawItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FhHeaderProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MakeObjectInstance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeaderWndProc</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">except</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemNum AlignRight">620</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ViewStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">vsReport</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemNum AlignRight">621</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ClientToScreen</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">r</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">625</td>
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">626</td>
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">PtInRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">acMousePos</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">627</td>
<td class="TextItemNum AlignRight">625</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">628</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if (HoverColIndex &gt;= 0) <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FPressedColumn</span> <span class="TextSegSigDiff">&gt;=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">626</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if (HoverColIndex &gt;= 0) then begin</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">629</td>
<td class="TextItemNum AlignRight">627</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">630</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FPressedColumn</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">631</td>
<td class="TextItemNum AlignRight">628</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintHeader</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">632</td>
<td class="TextItemNum AlignRight">629</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">633</td>
<td class="TextItemNum AlignRight">630</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">634</td>
<td class="TextItemNum AlignRight">631</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">635</td>
<td class="TextItemNum AlignRight">632</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">636</td>
<td class="TextItemNum AlignRight">633</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1120</td>
<td class="TextItemNum AlignRight">1117</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1121</td>
<td class="TextItemNum AlignRight">1118</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FontColor</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1122</td>
<td class="TextItemNum AlignRight">1119</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">InitControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1123</td>
<td class="TextItemNum AlignRight">1120</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1124</td>
<td class="TextItemNum AlignRight">1121</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI7UP}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1125</td>
<td class="TextItemNum AlignRight">1122</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementCompiler_32Directive">{$IFNDEF D2010}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if <span class="TextSegSigDiff">NewStyleItems</span> <span class="TextSegSigDiff">and</span> ThemeServices.ThemesEnabled and (Win32MajorVersion &gt;= 6) then Ac_SetWindowTheme(Handle, 'explorer', nil); // do not localize</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1123</td>
<td class="TextItemSigDel">&nbsp; if ThemeServices.ThemesEnabled and (Win32MajorVersion &gt;= 6) then Ac_SetWindowTheme(Handle, 'explorer', nil); // do not localize</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemNum AlignRight">1124</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1128</td>
<td class="TextItemNum AlignRight">1125</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1129</td>
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1130</td>
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1131</td>
<td class="TextItemNum AlignRight">1128</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">EllipsifyEnd</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hDC</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">sText</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">dwFlags</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acstring</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1132</td>
<td class="TextItemNum AlignRight">1129</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemNum AlignRight">1243</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemNum AlignRight">1244</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1248</td>
<td class="TextItemNum AlignRight">1245</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHighLightColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cdsFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1249</td>
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1250</td>
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1251</td>
<td class="TextItemNum AlignRight">1248</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sNdx</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_Selection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Focused</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1252</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1253</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">fText</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1254</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">BorderStyle</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">bsNone</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">OffsetRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">2</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">2</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1255</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BlendTransRectangle(Bmp, 0, 0, FCommonData.FCacheBmp, <span class="TextSegSigDiff">fTex</span>t, 0.5);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1256</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1249</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">then</span> BlendTransRectangle(Bmp, 0, 0, FCommonData.FCacheBmp, <span class="TextSegSigDiff">nRec</span>t, 0.5);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1257</td>
<td class="TextItemNum AlignRight">1250</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1258</td>
<td class="TextItemNum AlignRight">1251</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1259</td>
<td class="TextItemNum AlignRight">1252</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1260</td>
<td class="TextItemNum AlignRight">1253</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1261</td>
<td class="TextItemNum AlignRight">1254</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1262</td>
<td class="TextItemNum AlignRight">1255</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sCurrEdit.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">pos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementString">'-'</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Delete</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Minus</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Minus</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; FValue := CheckValue(StrToFloat(TextToValText('0' + s)) * Minus<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemSigDel">&nbsp; FValue := CheckValue(StrToFloat(TextToValText('0' + s))<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span> * Minus;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DelChars</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">'?'</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DelChars</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">#13</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DelChars</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">#10</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FValue</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CheckValue</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">StrToFloat</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TextToValText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementString">'0'</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sComboBoxes.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1193</td>
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomColorBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetStyle</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AStyle</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsColorBoxStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">AStyle</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AStyle</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; Enabled := ([cbStandardColors, cbExtendedColors, cbSystemColors, cbCustomColor, cbCustomColors] * FStyle) &lt;&gt; [];</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">([</span><span class="TextSegSigDiff">cbStandardColors</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cbExtendedColors</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cbSystemColors</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cbCustomColor</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cbCustomColors</span><span class="TextSegSigDiff">]</span> <span class="TextSegSigDiff">*</span> <span class="TextSegSigDiff">FStyle</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">[];</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemNum AlignRight">1201</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">PopulateList</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1201</td>
<td class="TextItemNum AlignRight">1202</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Invalidate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1202</td>
<td class="TextItemNum AlignRight">1203</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1203</td>
<td class="TextItemNum AlignRight">1204</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1204</td>
<td class="TextItemNum AlignRight">1205</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1205</td>
<td class="TextItemNum AlignRight">1206</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomColorBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WMDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWMDrawItem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1211</td>
<td class="TextItemNum AlignRight">1212</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ds</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ODS_COMBOBOXEDIT</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODS_COMBOBOXEDIT</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">odComboBoxEdit</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1212</td>
<td class="TextItemNum AlignRight">1213</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ds</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ODS_FOCUS</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODS_FOCUS</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">odFocused</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1213</td>
<td class="TextItemNum AlignRight">1214</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ds</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ODS_SELECTED</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODS_SELECTED</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">odSelected</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1214</td>
<td class="TextItemNum AlignRight">1215</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ds</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ODS_HOTLIGHT</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODS_HOTLIGHT</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">odSelected</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1215</td>
<td class="TextItemNum AlignRight">1216</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ds</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ODS_DISABLED</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODS_DISABLED</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">odDisabled</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1216</td>
<td class="TextItemNum AlignRight">1217</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1217</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; Message.Result := integer(DrawSkinItem(integer(ds.itemID), ds.rcItem, State, ds.hDC))</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1218</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Skinned</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1219</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">then</span> Message.Result := integer(DrawSkinItem(integer(ds.itemID), ds.rcItem, State, ds.hDC))</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1220</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DrawSkinItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ds</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">itemID</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ds</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">rcItem</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ds</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">hDC</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1218</td>
<td class="TextItemNum AlignRight">1221</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1219</td>
<td class="TextItemNum AlignRight">1222</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1220</td>
<td class="TextItemNum AlignRight">1223</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomColorBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1221</td>
<td class="TextItemNum AlignRight">1224</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1222</td>
<td class="TextItemNum AlignRight">1225</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1223</td>
<td class="TextItemNum AlignRight">1226</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AddToLog</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acSBUtils.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3287</td>
<td class="TextItemNum AlignRight">3287</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_PRINTCLIENT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WPARAM</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PRF_CLIENT</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">PRF_OWNED</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3288</td>
<td class="TextItemNum AlignRight">3288</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RestoreDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SavedDC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3289</td>
<td class="TextItemNum AlignRight">3289</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; SkinData.CtrlSkinState := SkinData.CtrlSkinState and not ACS_PRINTING;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3290</td>
<td class="TextItemNum AlignRight">3290</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3291</td>
<td class="TextItemNum AlignRight">3291</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_FONTCHANGED</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3292</td>
<td class="TextItemNum AlignRight">3292</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3293</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; then RedrawWindow(CtrlHandle, nil, 0, RDW_ERASE or RDW_INVALIDATE or RDW_FRAME)<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3294</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; else Exit;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3293</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; then RedrawWindow(CtrlHandle, nil, 0, RDW_ERASE or RDW_INVALIDATE or RDW_FRAME)</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3294</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3295</td>
<td class="TextItemNum AlignRight">3295</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3296</td>
<td class="TextItemNum AlignRight">3296</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_ERASEBKGND</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsWindowVisible</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">bPreventStyleChange</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3297</td>
<td class="TextItemNum AlignRight">3297</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PrintDC</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetClipBox</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">NULLREGION</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3298</td>
<td class="TextItemNum AlignRight">3298</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3299</td>
<td class="TextItemNum AlignRight">3299</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3300</td>
<td class="TextItemNum AlignRight">3300</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSkinProvider.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">415</td>
<td class="TextItemNum AlignRight">415</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">416</td>
<td class="TextItemNum AlignRight">416</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">417</td>
<td class="TextItemNum AlignRight">417</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TacBorderForm</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">class</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TPersistent</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">418</td>
<td class="TextItemNum AlignRight">418</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">protected</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FOwner</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TObject</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">LastTopLeft</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TPoint</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">acInMouseMsg</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AForm</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">OldBorderProc</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWndMethod</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">427</td>
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ShadowTemplate</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1104</td>
<td class="TextItemNum AlignRight">1103</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1105</td>
<td class="TextItemNum AlignRight">1104</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SWP_NOSENDCHANGING</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOOWNERZORDER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSIZE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOREDRAW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1106</td>
<td class="TextItemNum AlignRight">1105</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1107</td>
<td class="TextItemNum AlignRight">1106</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1108</td>
<td class="TextItemNum AlignRight">1107</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetFormBlendValue</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1109</td>
<td class="TextItemNum AlignRight">1108</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormTimer</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1110</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1111</td>
<td class="TextItemNum AlignRight">1109</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SYSCOMMAND</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SC_DRAGMOVE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1112</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">X</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1113</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> // Avoid of a form auto aligning</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1114</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SetBounds</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1115</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1116</td>
<td class="TextItemNum AlignRight">1110</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1117</td>
<td class="TextItemNum AlignRight">1111</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1118</td>
<td class="TextItemNum AlignRight">1112</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI7UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1119</td>
<td class="TextItemNum AlignRight">1113</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AlphaBlend</span> <span class="TextSegElementKeyword">then</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1120</td>
<td class="TextItemNum AlignRight">1114</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1121</td>
<td class="TextItemNum AlignRight">1115</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2441</td>
<td class="TextItemNum AlignRight">2435</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2442</td>
<td class="TextItemNum AlignRight">2436</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2443</td>
<td class="TextItemNum AlignRight">2437</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2444</td>
<td class="TextItemNum AlignRight">2438</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">type</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2445</td>
<td class="TextItemNum AlignRight">2439</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TAccessForm</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">class</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2446</td>
<td class="TextItemNum AlignRight">2440</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2447</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">function</span> <span class="TextSegSigDiff">ExtBordersNeeded</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2448</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2449</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinData</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ExtendedBorders</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AllowExtBorders</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">sConst</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ac_NoExtBordersIfMax</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WindowState</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">wsMaximized</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2450</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2451</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2452</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2453</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2454</td>
<td class="TextItemNum AlignRight">2441</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">NewWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2455</td>
<td class="TextItemNum AlignRight">2442</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2456</td>
<td class="TextItemNum AlignRight">2443</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2457</td>
<td class="TextItemNum AlignRight">2444</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:</span>&nbsp; <span class="TextSegElementIdentifier">TMenuItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2458</td>
<td class="TextItemNum AlignRight">2445</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3044</td>
<td class="TextItemNum AlignRight">3031</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3045</td>
<td class="TextItemNum AlignRight">3032</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3046</td>
<td class="TextItemNum AlignRight">3033</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">UpdateClient</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">IsCached</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3047</td>
<td class="TextItemNum AlignRight">3034</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">UpdateClient</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3048</td>
<td class="TextItemNum AlignRight">3035</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3049</td>
<td class="TextItemNum AlignRight">3036</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FDrawNonClientArea</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3050</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ac_NoExtBordersIfMax</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WindowState</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">wsMaximized</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3051</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3052</td>
<td class="TextItemNum AlignRight">3037</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// If can optimize (Pre-paint the form while is under the BorderForm)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3053</td>
<td class="TextItemNum AlignRight">3038</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Update extended borders</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3054</td>
<td class="TextItemNum AlignRight">3039</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AForm</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CreateNewForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3055</td>
<td class="TextItemNum AlignRight">3040</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ListSW</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">ListSW</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">sBarVert</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">fScrollVisible</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">ListSW</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">sBarHorz</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">fScrollVisible</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ResizeMode</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">rmStandard</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3056</td>
<td class="TextItemNum AlignRight">3041</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">FS_SIZING</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3057</td>
<td class="TextItemNum AlignRight">3042</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateExBordersPos</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// If ExtBorder exists already</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3711</td>
<td class="TextItemNum AlignRight">3695</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BeginPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3712</td>
<td class="TextItemNum AlignRight">3696</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">EndPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3713</td>
<td class="TextItemNum AlignRight">3697</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3714</td>
<td class="TextItemNum AlignRight">3698</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3715</td>
<td class="TextItemNum AlignRight">3699</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3716</td>
<td class="TextItemNum AlignRight">3700</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3717</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">DrawNonClientArea</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SendMEssage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">WM_NCPAINT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3718</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3719</td>
<td class="TextItemNum AlignRight">3701</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">InAnimation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnPaint</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3720</td>
<td class="TextItemNum AlignRight">3702</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3721</td>
<td class="TextItemNum AlignRight">3703</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_RECREATEWND</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3722</td>
<td class="TextItemNum AlignRight">3704</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3723</td>
<td class="TextItemNum AlignRight">3705</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementCompiler_32Directive">{$IFNDEF DISABLEPREVIEWMODE}</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3827</td>
<td class="TextItemNum AlignRight">3809</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3828</td>
<td class="TextItemNum AlignRight">3810</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3829</td>
<td class="TextItemNum AlignRight">3811</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FS_ACTIVATE</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3830</td>
<td class="TextItemNum AlignRight">3812</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FormTimer</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FormTimer</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementComment">{and DrawNonClientArea}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3831</td>
<td class="TextItemNum AlignRight">3813</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RepaintNC</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3832</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3833</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ac_NoExtBordersIfMax</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WindowState</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">wsMaximized</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3834</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3835</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">UpdateRgn</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3836</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3837</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> if BorderForm &lt;&gt; nil then BorderForm.UpdateExBordersPos;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3814</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if BorderForm &lt;&gt; nil then BorderForm.UpdateExBordersPos;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3838</td>
<td class="TextItemNum AlignRight">3815</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3839</td>
<td class="TextItemNum AlignRight">3816</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3840</td>
<td class="TextItemNum AlignRight">3817</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">InitMenuItems</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Update after skinning in run-time</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3841</td>
<td class="TextItemNum AlignRight">3818</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">MenusInitialized</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3842</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinableMenus</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">InitMenuLine</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FDrawNonClientArea</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3843</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MenusInitialized := U<span class="TextSegSigDiff">pdateMenu</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3819</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Update</span>Menu <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Menu</span>sInitialized := <span class="TextSegSigDiff">Tr</span>u<span class="TextSegSigDiff">e</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3844</td>
<td class="TextItemNum AlignRight">3820</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3845</td>
<td class="TextItemNum AlignRight">3821</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Adapter</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">AdapterCreate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3846</td>
<td class="TextItemNum AlignRight">3822</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">{&nbsp; &nbsp; &nbsp; &nbsp; if IsIconic(Form.Handle) and not AeroIsEnabled then begin // Aero</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3847</td>
<td class="TextItemNum AlignRight">3823</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; if IsIconic(Form.Handle) then begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3848</td>
<td class="TextItemNum AlignRight">3824</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCommonData.BGChanged := True;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3849</td>
<td class="TextItemNum AlignRight">3825</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SendMessage(Form.Handle, WM_NCPAINT, 0, 0);</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3974</td>
<td class="TextItemNum AlignRight">3950</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acSetAnimation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">bAnim</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3975</td>
<td class="TextItemNum AlignRight">3951</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3976</td>
<td class="TextItemNum AlignRight">3952</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3977</td>
<td class="TextItemNum AlignRight">3953</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MainForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3978</td>
<td class="TextItemNum AlignRight">3954</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">bAnim</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">acGetAnimation</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3979</td>
<td class="TextItemNum AlignRight">3955</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acSetAnimation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3980</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">ExtBordersNeeded</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3981</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3982</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">InitExBorders</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3983</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">UpdateRgn</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3984</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3985</td>
<td class="TextItemNum AlignRight">3956</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3986</td>
<td class="TextItemNum AlignRight">3957</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acSetAnimation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">bAnim</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3987</td>
<td class="TextItemNum AlignRight">3958</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3988</td>
<td class="TextItemNum AlignRight">3959</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementCompiler_32Directive">{$IFDEF D2005}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3989</td>
<td class="TextItemNum AlignRight">3960</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3990</td>
<td class="TextItemNum AlignRight">3961</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF D2007}</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MainFormOnTaskBar</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MainForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">IsIconic</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4138</td>
<td class="TextItemNum AlignRight">4109</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4139</td>
<td class="TextItemNum AlignRight">4110</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_WINDOWPOSCHANGING</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4140</td>
<td class="TextItemNum AlignRight">4111</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">RgnChanging</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4141</td>
<td class="TextItemNum AlignRight">4112</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsZoomed</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMWindowPosChanged</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowPos</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4142</td>
<td class="TextItemNum AlignRight">4113</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMWindowPosChanging</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowPos</span>^<span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMWindowPosChanging</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowPos</span>^<span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">with</span> <span class="TextSegElementIdentifier">TWMWindowPosChanging</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowPos</span>^ <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4143</td>
<td class="TextItemNum AlignRight">4114</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4144</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">sConst</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ac_NoExtBordersIfMax</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WindowState</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">wsNormal</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">ExtBordersNeeded</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4145</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">InitExBorders</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4146</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4147</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4148</td>
<td class="TextItemNum AlignRight">4115</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FScreenSnap</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Showing</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4149</td>
<td class="TextItemNum AlignRight">4116</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cR</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">acWorkRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4150</td>
<td class="TextItemNum AlignRight">4117</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BorderForm</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DiffBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExShadowOffs</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4151</td>
<td class="TextItemNum AlignRight">4118</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FSnapBuffer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4152</td>
<td class="TextItemNum AlignRight">4119</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FSnapBuffer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5064</td>
<td class="TextItemNum AlignRight">5031</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sbw</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5065</td>
<td class="TextItemNum AlignRight">5032</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">fCaptHeight</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5066</td>
<td class="TextItemNum AlignRight">5033</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ChangedIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5067</td>
<td class="TextItemNum AlignRight">5034</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Index</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5068</td>
<td class="TextItemNum AlignRight">5035</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">VisIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5069</td>
<td class="TextItemNum AlignRight">5036</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5070</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5071</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">sMan</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinableMenus</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">InitMenuLine</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FDrawNonClientArea</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5072</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">UpdateMenu</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5073</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">5074</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">{&nbsp; &nbsp; &nbsp; &nbsp; if AeroIsEnabled</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5037</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">AeroIsEnabled</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">5075</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">5076</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; sMan.SkinableMenus.InitMenuLine(Form.Menu, FDrawNonCLientArea);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5038</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">sMan</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinableMenus</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">InitMenuLine</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FDrawNonCLientArea</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5077</td>
<td class="TextItemNum AlignRight">5039</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5078</td>
<td class="TextItemNum AlignRight">5040</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">while</span> <span class="TextSegElementIdentifier">Index</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Menu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5079</td>
<td class="TextItemNum AlignRight">5041</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">sbw</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ChildIconPresent</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Skip Item with child icon</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5080</td>
<td class="TextItemNum AlignRight">5042</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">GetMenuItemRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Menu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5081</td>
<td class="TextItemNum AlignRight">5043</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5082</td>
<td class="TextItemNum AlignRight">5044</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">VisIndex</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5858</td>
<td class="TextItemNum AlignRight">5820</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FLinesCount</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5859</td>
<td class="TextItemNum AlignRight">5821</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5860</td>
<td class="TextItemNum AlignRight">5822</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5861</td>
<td class="TextItemNum AlignRight">5823</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csCreating</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ControlState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csReadingState</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ControlState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5862</td>
<td class="TextItemNum AlignRight">5824</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">UseGlobalColor</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5863</td>
<td class="TextItemNum AlignRight">5825</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetGlobalColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5864</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; InitMenuItems(SkinData.Skinned);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">5865</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; if not MenusInitialized and UpdateMenu then MenusInitialized := True;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5826</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">InitMenuItems</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Skinned</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5827</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">UpdateMenu</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5866</td>
<td class="TextItemNum AlignRight">5828</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SystemMenu</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateGlyphs</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5867</td>
<td class="TextItemNum AlignRight">5829</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Showing</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">InitExBorders</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExtendedBorders</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5868</td>
<td class="TextItemNum AlignRight">5830</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5869</td>
<td class="TextItemNum AlignRight">5831</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5870</td>
<td class="TextItemNum AlignRight">5832</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HookMDI</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Active</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5871</td>
<td class="TextItemNum AlignRight">5833</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7559</td>
<td class="TextItemNum AlignRight">7521</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SnapBuffer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExShadowOffs</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7560</td>
<td class="TextItemNum AlignRight">7522</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SnapBuffer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExShadowOffs</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7561</td>
<td class="TextItemNum AlignRight">7523</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SnapBuffer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExShadowOffs</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7562</td>
<td class="TextItemNum AlignRight">7524</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7563</td>
<td class="TextItemNum AlignRight">7525</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7564</td>
<td class="TextItemNum AlignRight">7526</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldBorderProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">7565</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LastTopLeft</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BoundsRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">TopLeft</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7566</td>
<td class="TextItemNum AlignRight">7527</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7567</td>
<td class="TextItemNum AlignRight">7528</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">OldBorderProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7568</td>
<td class="TextItemNum AlignRight">7529</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF NOWNDANIMATION}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7569</td>
<td class="TextItemNum AlignRight">7530</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_SHOWWINDOW</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">acLayered</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">InAnimationProcess</span><span class="TextSegElementCompiler_32Directive">{$IFDEF D2007}</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MainFormOnTaskBar</span> <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DrawNonClientArea</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7570</td>
<td class="TextItemNum AlignRight">7531</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SW_PARENTCLOSING</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7571</td>
<td class="TextItemNum AlignRight">7532</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FS_ANIMMINIMIZING</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">FS_ANIMMINIMIZING</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7894</td>
<td class="TextItemNum AlignRight">7858</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FastBmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7895</td>
<td class="TextItemNum AlignRight">7859</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Offset</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7896</td>
<td class="TextItemNum AlignRight">7860</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">HandleRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7897</td>
<td class="TextItemNum AlignRight">7861</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7898</td>
<td class="TextItemNum AlignRight">7862</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7899</td>
<td class="TextItemNum AlignRight">7863</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">7900</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">X</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">do</span> if (FastBmp.Pixels[X, Y].<span class="TextSegSigDiff">I</span> = 0) and (FastBmp.Pixels[X, Y].G = 0) and (FastBmp.Pixels[X, Y].B = 0) then begin // Black color is not blurred</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7864</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7865</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">X</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7866</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (FastBmp.Pixels[X, Y].<span class="TextSegSigDiff">R</span> = 0) and (FastBmp.Pixels[X, Y].G = 0) and (FastBmp.Pixels[X, Y].B = 0) then begin // Black color is not blurred</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7901</td>
<td class="TextItemNum AlignRight">7867</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">subrgn</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateRectRgn</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7902</td>
<td class="TextItemNum AlignRight">7868</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CombineRgn</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">bRgn</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bRgn</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">subrgn</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RGN_DIFF</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7903</td>
<td class="TextItemNum AlignRight">7869</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DeleteObject</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">subrgn</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7870</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7871</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7904</td>
<td class="TextItemNum AlignRight">7872</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7905</td>
<td class="TextItemNum AlignRight">7873</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7906</td>
<td class="TextItemNum AlignRight">7874</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7907</td>
<td class="TextItemNum AlignRight">7875</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">fR</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ShadowSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7908</td>
<td class="TextItemNum AlignRight">7876</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">bRgn</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateRectRgn</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7909</td>
<td class="TextItemNum AlignRight">7877</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FastBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acHeaderControl.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">322</td>
<td class="TextItemNum AlignRight">322</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_PAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">323</td>
<td class="TextItemNum AlignRight">323</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">324</td>
<td class="TextItemNum AlignRight">324</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">325</td>
<td class="TextItemNum AlignRight">325</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_MOUSELEAVE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CurItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PressedItem</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Repaint</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_LBUTTONDBLCLK</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_LBUTTONDOWN</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">hsFlat</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TCMHitTest</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">XPos</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TCMHitTest</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">YPos</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSkinMenus.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">sAdvancedDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TObject</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCanvas</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ARect</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TOwnerDrawState</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">const</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s_Webdings</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'Webdings'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cRect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; i, j<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">c</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">l</span>: integer;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemSigDel">&nbsp; i, j: integer;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ci</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Item</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMenuItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">gChar</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; Text<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">TabText</span>: acString;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemSigDel">&nbsp; Text: acString;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ItemBmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">longint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">NewDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">aMsg</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMSG</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Br</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">501</td>
<td class="TextItemNum AlignRight">501</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">502</td>
<td class="TextItemNum AlignRight">502</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">503</td>
<td class="TextItemNum AlignRight">503</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Sender</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TTntMenuItem</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TTntMenuItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TMenuItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">504</td>
<td class="TextItemNum AlignRight">504</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">505</td>
<td class="TextItemNum AlignRight">505</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">506</td>
<td class="TextItemNum AlignRight">506</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">507</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">c</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">pos</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">#9</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Text</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">508</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">c</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">509</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">l</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Length</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Text</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">c</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">510</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">TabText</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">copy</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Text</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">c</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">l</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">511</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">delete</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Text</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">c</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">l</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">512</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">513</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">514</td>
<td class="TextItemNum AlignRight">507</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">&lt;&gt;</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">#8</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">515</td>
<td class="TextItemNum AlignRight">508</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Delete</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">516</td>
<td class="TextItemNum AlignRight">509</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementString">'&nbsp; &nbsp; &nbsp; '</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemNum AlignRight">510</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AlignToInt</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">taRightJustify</span><span class="TextSegElementOperator">];</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemNum AlignRight">511</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">519</td>
<td class="TextItemNum AlignRight">512</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AlignToInt</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Alignment</span><span class="TextSegElementOperator">];</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">520</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">521</td>
<td class="TextItemNum AlignRight">513</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_EXPANDTABS</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_SINGLELINE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_VCENTER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_NOCLIP</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">522</td>
<td class="TextItemNum AlignRight">514</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">RTL</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">523</td>
<td class="TextItemNum AlignRight">515</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_RIGHT</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">524</td>
<td class="TextItemNum AlignRight">516</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">dec</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ExtraWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">525</td>
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">526</td>
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">odNoAccel</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_HIDEPREFIX</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">532</td>
<td class="TextItemNum AlignRight">524</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementString">''</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemNum AlignRight">525</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DT_SINGLELINE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_VCENTER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_LEFT</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemNum AlignRight">526</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">r</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ShortCutRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemNum AlignRight">527</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">dec</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">8</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">536</td>
<td class="TextItemNum AlignRight">528</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ExtraWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">537</td>
<td class="TextItemNum AlignRight">529</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sGraphUtils</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">acWriteTextEx</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PacChar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odSelected</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odHotLight</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">538</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">539</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">TabText</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">''</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">540</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawStyle</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DT_SINGLELINE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">DT_VCENTER</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">DT_RIGHT</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">dec</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">r</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">8</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">OffsetRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">ExtraWidth</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">mi</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">sGraphUtils</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">acWriteTextEx</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ItemBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">PacChar</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TabText</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DrawStyle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">odSelected</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">odHotLight</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemNum AlignRight">530</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemNum AlignRight">531</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemNum AlignRight">532</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOnDrawItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOnDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ItemBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ItemBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ItemBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">it</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
</body>
</html>
