<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="Changelog.css">
<title>Text Compare</title>
</head>
<body>
<br/>
File: sListView.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CheckBoxes</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Checked</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">CheckState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cbChecked</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">CheckState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cbUnChecked</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bSelected</span> <span class="TextSegSigDiff">then</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">3</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CheckWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemNum AlignRight">1343</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acDrawCheck</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CheckState</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemNum AlignRight">1344</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; else {if (Bmp = nil)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; then cw := nRect.Left</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; else} cw := 0; // Offset is 0 if draw on Bmp</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; else <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">cw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> cw := 0; // Offset is 0 if draw on Bmp</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Glyph</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SmallImages</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">imgRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drIcon</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Draw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI6UP}</span><span class="TextSegElementIdentifier">dsNormal</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">itImage</span><span class="TextSegElementCompiler_32Directive">{$ELSE}</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bSelected</span> <span class="TextSegSigDiff">then</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; imgRect := Rect(cw, 0, cw, 0)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">imgRect</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cw</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cw</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> imgRect := Rect(cw, 0, cw, 0)<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Text</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GetCapture</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">FhWndHeader</span> <span class="TextSegElementComment">// If columns is in resizing</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ListView_GetColumnWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">2</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Columns</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Columns</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemNum AlignRight">1390</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemNum AlignRight">1391</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemNum AlignRight">1392</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemNum AlignRight">1393</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemNum AlignRight">1394</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(TTntListItem(Item).Caption), True, fText, DrawStyle, sNdx, Focused {and not bHot}, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1395</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(TTntListItem(Item).Caption), True, fText, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemNum AlignRight">1396</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(Item.Caption), True, fText, DrawStyle, sNdx, Focused {and not bHot}, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(Item.Caption), True, fText, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GridLines</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Mouse</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Capture</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{If column is not resized}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Draw grid horz line</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1411</td>
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">clBtnFace</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acImage.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FImage</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CanAutoSize</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">NewWidth</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">NewHeight</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Boolean</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">37</td>
<td class="TextItemNum AlignRight">37</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">OwnDrawing</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">38</td>
<td class="TextItemNum AlignRight">38</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HDC</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">virtual</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">39</td>
<td class="TextItemNum AlignRight">39</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">40</td>
<td class="TextItemNum AlignRight">40</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">AfterConstruction</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">Loaded</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">override</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemNum AlignRight">41</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span><span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">UpdateImage</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">Empty</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">acWM_PAINT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">message</span> <span class="TextSegElementIdentifier">WM_PAINT</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemNum AlignRight">75</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsCustomImage }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AfterConstruction</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Loaded</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TsCustomImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsCtrlSkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemNum AlignRight">358</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemNum AlignRight">359</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">acWM_PAINT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if not InUpdating(FCommonData) and not <span class="TextSegSigDiff">(</span>Empty <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">))</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemSigDel">&nbsp; if not InUpdating(FCommonData) and not Empty then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">ImageChanged</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">371</td>
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">finally</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">372</td>
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RestoreDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SavedDC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FUseFullSize</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FReflected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewHeight</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">NewHeight</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">CanAutoSize</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewWidth</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">NewHeight</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">427</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TsCustomImage</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Loaded</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">428</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">429</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">430</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Loaded</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">431</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">432</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">433</td>
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">.</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sLabel.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1178</td>
<td class="TextItemNum AlignRight">1178</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetTextColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">clWhite</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1179</td>
<td class="TextItemNum AlignRight">1179</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1180</td>
<td class="TextItemNum AlignRight">1180</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Draw text</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1181</td>
<td class="TextItemNum AlignRight">1181</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DstRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Offset</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Offset</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1182</td>
<td class="TextItemNum AlignRight">1182</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Angle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1183</td>
<td class="TextItemNum AlignRight">1183</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">acDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PacChar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DstRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Flags</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1184</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else ExtTextOut(FMask.Canvas.Handle, DstRect.Left + sP.X, DstRect.Top + sP.Y, 0, @DstRect, PChar(Text), Length(Text), 0);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1184</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else ExtTextOut(FMask.Canvas.Handle, DstRect.Left + sP.X, DstRect.Top + sP.Y, 0, @DstRect, P<span class="TextSegSigDiff">ac</span>Char(Text), Length(Text), 0);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1185</td>
<td class="TextItemNum AlignRight">1185</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1186</td>
<td class="TextItemNum AlignRight">1186</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">W</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1187</td>
<td class="TextItemNum AlignRight">1187</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">H</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1188</td>
<td class="TextItemNum AlignRight">1188</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FMaskBitsSize</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">W</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">H</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1189</td>
<td class="TextItemNum AlignRight">1189</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FMaskBitsSize</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">W</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">H</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1190</td>
<td class="TextItemNum AlignRight">1190</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ReallocMem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FMaskBits</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMaskBitsSize</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DstRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Offset</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Offset</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; FillDC(Canvas.Handle, DstRect, clNavy);//clYellow);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Angle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">acDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PacChar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DstRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Flags</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else ExtTextOut(Canvas.Handle, DstRect.Left + sP.X, DstRect.Top + sP.Y, 0, @DstRect, PChar(Text), Length(Text), 0);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else ExtTextOut(Canvas.Handle, DstRect.Left + sP.X, DstRect.Top + sP.Y, 0, @DstRect, P<span class="TextSegSigDiff">ac</span>Char(Text), Length(Text), 0);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; FillDC(Canvas.Handle, DstRect, clNavy);//clYellow);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PacChar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DstRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Flags</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Calc size of text</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">DT_CALCRECT</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">DT_CALCRECT</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">clNone</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ShadowData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Blur</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
</table>
<br/>
</body>
</html>
