{TODO : Move Register() procedure to a separate registration unit}{TODO : memory leak - progdata structures not freed} 
